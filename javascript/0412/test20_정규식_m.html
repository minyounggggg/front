<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test19_정규식.html</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="test19.js"></script>
    <script>
        /*
        자바스크립트 : /[~~]/플러그인
        [^] : []안의 ^는 부정의 의미
        ^[] : [] 앞의 ^는 처음(시작)의 의미
        []+ : [] 뒤의 +는 1개 이상, *은 0개 이상, ?은 0개이거나 1개.(2개는안됨)
        []+$ : $는 끝을 의미, []뒤의 +$는 []안의 문자가 1개 이상이고, 또 1개 이상으로 끝날수도있다.
        () : 그룹적용시
        {} : 범위(크기)적용시, 범위에 나오는 중괄호 앞의 '.'은 앞의 내용이 {}범위갯수만큼 진행하라는 구분자.
        ?=.* : 앞쪽 모두(.)일치, []안의 내용이 1개이상 반복(*) 한다.
        w  : 알파벳(대/소문자), 숫자, 밑줄(_)의 포함유무
        자바스크립트에서의 한글은 유니코드에 완성된 코드로 등록되어 있기에 특수코드로 취급되지 않는다.
        */
    
        function fCheck() {
            // 항상 먼저 정규직변수를 만들어놓고 작업한다.
            let regMid = /^[a-zA-Z0-9_]{4,20}$/;     //아이디는 영문 대소문자, 숫자, 밑줄만 포함하여 4~20자 까지만 처리
            let regPwd = /(?=.*[a-zA-Z])(?=.*\d)(?=.*[~!@#$%^&*()_+-\[\]{},\.\/<>?\\])[A-Za-z\d~!@#$%^&*()_+-\[\]{},\.\/<>?\\]{4,20}$/;    //비밀번호는 영문자, 숫자, 특수문자(~!@#$%^&*()_+-[]{},./<>?)가 최소 1자 이상은 포함되면서 4~20자까지로한다.
            let regNickname = /^[a-zA-Z0-9가-힣]{2,10}$/;   //영문자와 한글과 숫자만 사용가능. 2~10자 이내로 작성
            let regName = /^[a-zA-Z가-힣]{2,10}$/;   //영문자와 한글만 사용가능. 2~10자 이내로 작성
            let regEmail = /^[a-zA-Z0-9]([-_]?[a-zA-Z0-9])*@[a-zA-Z0-9]([-_]?[a-zA-Z0-9])*(\.[a-zA-Z]{2,3})+$/i;    // 영문 이메일형식에 맞도록 작성(abc@naver.com, a_bc@a.b.com)
            let regHomePage = /(https?:\/\/)?([a-zA-Z0-9_-]+)\.([a-zA-Z_-0-9]{2,8})([\/\w\.-])/;   // 홈페이지 형식에 맞도록 설계 (http://~~, https://~~)
            let regTel = /\d{2,3}-\d{3,4}-\d{4}/;    //000-0000-0000
            let regJumin = /\d{6}-\d{1}/;    //000000-0

            let mid = document.getElementById("mid").value.trim();
            let pwd = document.getElementById("pwd").value.trim();
            let nickname = document.getElementById("nickname").value.trim();
            let name = document.getElementById("name").value.trim();
            let email = document.getElementById("email").value.trim();
            // let homePage = document.getElementById("homePage").value.trim();
            let tel = document.getElementById("tel").value.trim();
            let jumin = document.getElementById("jumin").value.trim();

            //유효성검사
            if(!regMid.test(mid)) {
                alert("아이디는 영문 대/소문자와 숫자, 밑줄(_)을 포함하여 4~20자까지 가능합니다.")
                document.getElementById('mid').focus();
                return false;
            }
            if(!regPwd.test(pwd)) {
                alert("비밀번호는 영문 대/소문자와 숫자, 특수문자(~!@#$%^&*()_+-[]{},./<>?)가 최소 1자 이상은 포함되면서 4~20자까지 가능합니다.")
                document.getElementById('pwd').focus();
                return false;
            }
            if(!regName.test(name)) {
                alert("이름은 영문자와 한글만 사용가능하며, 2~10 이내로 작성해주세요.")
                document.getElementById('name').focus();
                return false;
            }
            if(!regNickname.test(nickname)) {
                alert("닉네임은 영문자와 한글, 숫자만 사용가능하며, 2~10 이내로 작성해주세요.")
                document.getElementById('nickname').focus();
                return false;
            }
            if(!regEmail.test(email)) {
                alert("이메일 형식에 맞도록 작성해주세요.")
                document.getElementById('email').focus();
                return false;
            }
            if(!regHomePage.test(homePage)) {
                alert("홈페이지 형식에 맞도록 작성해주세요.")
                document.getElementById('homePage ').focus();
                return false;
            }
            if(!regTel.test(tel)) {
                alert("전화번호 형식에 맞도록 작성해주세요.")
                document.getElementById('tel').focus();
                return false;
            }
            if(!regTel.test(tel)) {
                alert("주민번호 형식(000000-0)에 맞도록 작성해주세요.")
                document.getElementById('tel').focus();
                return false;
            }
            alert("유효성 검사 통과, 회원가입 완료");
            // myform.submit();
            // location,href = "주소?변수+값&변수2=값2~~";
        }
    </script>
    <style>
        h2{
            margin-bottom: 40px;
            font-weight: bold;
            color: rgb(87, 169, 224);
            border-left: 5px solid rgb(87, 169, 224);
            padding-left: 15px;
        }
        .container{
            border: 2px solid rgb(87, 169, 224);
            border-radius: 10px;
            padding: 50px 40px;
            margin-bottom: 100px;
            background-color: rgb(247, 247, 247);
        }
        .row{
            margin-top: 50px;
        }
    </style>
    
</head>
<body>
<p><br/></p>
    <div class="container">
    <h2>회원가입</h2>
    <form name="myform" method="post">
        <div class="form-group">
            <label for="mid">아이디</label>
            <input type="text" name="mid" id="mid" value="hkd1234" placeholder="아이디를 입력하세요" class="form-control" autofocus required/>
        </div>
        <div class="form-group">
            <label for="pwd">비밀번호</label>
            <input type="text" name="pwd" id="pwd" value="1234" placeholder="비밀번호를 입력하세요" class="form-control" required/>
        </div>
        <div class="form-group">
            <label for="repwd">비밀번호체크</label>
            <input type="text" name="repwd" id="repwd" value="1234" placeholder="비밀번호를 입력하세요" class="form-control" required/>
        </div>
        <div class="form-group">
            <label for="nickname">닉네임</label>
            <input type="text" name="nickname" id="nickname" value="홍장군" placeholder="닉네임을 입력하세요" class="form-control" required/>
        </div>
        <div class="form-group">
            <label for="name">성명</label>
            <input type="text" name="name" id="name" value="홍길동" placeholder="성명을 입력하세요" class="form-control" required/>
        </div>
        <div class="form-group">
            <label for="email">이메일</label>
            <input type="text" name="email" id="email" value="email123@naver.com" placeholder="이메일을 입력하세요" class="form-control" required/>
        </div>
        <div class="form-group">
            <label for="homePage">홈페이지</label>
            <input type="text" name="homePage" id="homePage" value="www.naver.com" placeholder="홈페이지 주소를 입력하세요" class="form-control" required/>
        </div>
        <div class="form-group">
            <label for="tel">전화번호</label>
            <input type="text" name="tel" id="tel" value="010-1234-5678" placeholder="전화번호를 입력하세요" class="form-control" required/>
        </div>
        <div class="form-group">
            <label for="jumin">주민번호</label>
            <input type="text" name="jumin" id="jumin" value="201126-1" placeholder="주민번호(년월일-성별)를 입력하세요" class="form-control" required/>
        </div>
        <div class="form-group">
            <label for="birthday">생일</label>
            <input type="date" name="birthday" id="birthday" class="form-control" required/>
        </div>
        <div class="form-group">
            <label for="content">자기소개</label>
            <textarea row="5" name="content" id="content" class="form-control" required>자기소개서 등록하기</textarea>
        </div>
        <div class="row">
            <div class="col"><input type="button" value="회원가입" onclick="fCheck()" class="btn btn-success form-control"/></div>
            <div class="col"><input type="reset" value="다시입력" class="btn btn-warning form-control"/></div>
        </div>
    </form>
</div>
</body>
</html>